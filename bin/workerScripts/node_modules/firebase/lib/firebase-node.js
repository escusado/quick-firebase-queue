/* Firebase v1.0.21 */ var k,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.pb=function(){return a.jd?a.jd:a.jd=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return r.apply(null,arguments)}
function ka(a,b){function c(){}c.prototype=b.prototype;a.pe=b.prototype;a.prototype=new c;a.le=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function la(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function ma(){this.nc=void 0}
function na(a,b,c){switch(typeof b){case "string":oa(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],na(a,a.nc?a.nc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),oa(f,c),
c.push(":"),na(a,a.nc?a.nc.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},qa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function oa(a,b){b.push('"',a.replace(qa,function(a){if(a in pa)return pa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return pa[a]=e+b.toString(16)}),'"')};function ra(a){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):la(a)}function u(a){if("undefined"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];na(new ma,a,b);a=b.join("")}return a};function sa(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,v(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};var ta={};function x(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}
function y(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:ua.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(d+" argument ")}function z(a,b,c,d){if((!d||n(c))&&"function"!=da(c))throw Error(y(a,b,d)+"must be a valid function.");}
function va(a,b,c){if(n(c)&&(!ha(c)||null===c))throw Error(y(a,b,!0)+"must be a valid context object.");};function A(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function wa(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]};var ua={},xa=/[\[\].#$\/\u0000-\u001F\u007F]/,ya=/[\[\].#$\u0000-\u001F\u007F]/;function za(a){return q(a)&&0!==a.length&&!xa.test(a)}function Aa(a,b,c){c&&!n(b)||Ba(y(a,1,c),b)}
function Ba(a,b,c,d){c||(c=0);d=d||[];if(!n(b))throw Error(a+"contains undefined"+Ca(d));if("function"==da(b))throw Error(a+"contains a function"+Ca(d)+" with contents: "+b.toString());if(Da(b))throw Error(a+"contains "+b.toString()+Ca(d));if(1E3<c)throw new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)");if(q(b)&&b.length>10485760/3&&10485760<sa(b).length)throw Error(a+"contains a string greater than 10485760 utf8 bytes"+Ca(d)+" ('"+b.substring(0,50)+"...')");if(ha(b))for(var e in b)if(A(b,
e)){var f=b[e];if(".priority"!==e&&".value"!==e&&".sv"!==e&&!za(e))throw Error(a+" contains an invalid key ("+e+")"+Ca(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.push(e);Ba(a,f,c+1,d);d.pop()}}function Ca(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ea(a,b){if(!ha(b)||ea(b))throw Error(y(a,1,!1)+" must be an Object containing the children to replace.");Aa(a,b,!1)}
function Fa(a,b,c,d){if(!(d&&!n(c)||null===c||ga(c)||q(c)||ha(c)&&A(c,".sv")))throw Error(y(a,b,d)+"must be a valid firebase priority (a string, number, or null).");}function Ga(a,b,c){if(!c||n(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(y(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}
function Ha(a,b){if(n(b)&&!za(b))throw Error(y(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}function Ia(a,b){if(!q(b)||0===b.length||ya.test(b))throw Error(y(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function B(a,b){if(".info"===C(b))throw Error(a+" failed: Can't modify data under /.info/");};function D(a,b,c,d,e,f,g){this.m=a;this.path=b;this.Aa=c;this.ca=d;this.va=e;this.ya=f;this.Wa=g;if(n(this.ca)&&n(this.ya)&&n(this.Aa))throw"Query: Can't combine startAt(), endAt(), and limit().";}D.prototype.Rc=function(){x("Query.ref",0,0,arguments.length);return new E(this.m,this.path)};D.prototype.ref=D.prototype.Rc;
D.prototype.ab=function(a,b){x("Query.on",2,4,arguments.length);Ga("Query.on",a,!1);z("Query.on",2,b,!1);var c=Ja("Query.on",arguments[2],arguments[3]);this.m.Pb(this,a,b,c.cancel,c.Y);return b};D.prototype.on=D.prototype.ab;D.prototype.wb=function(a,b,c){x("Query.off",0,3,arguments.length);Ga("Query.off",a,!0);z("Query.off",2,b,!0);va("Query.off",3,c);this.m.mc(this,a,b,c)};D.prototype.off=D.prototype.wb;
D.prototype.Yd=function(a,b){function c(g){f&&(f=!1,e.wb(a,c),b.call(d.Y,g))}x("Query.once",2,4,arguments.length);Ga("Query.once",a,!1);z("Query.once",2,b,!1);var d=Ja("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.ab(a,c,function(b){e.wb(a,c);d.cancel&&d.cancel.call(d.Y,b)})};D.prototype.once=D.prototype.Yd;
D.prototype.Sd=function(a){x("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw"Query.limit: First argument must be a positive integer.";return new D(this.m,this.path,a,this.ca,this.va,this.ya,this.Wa)};D.prototype.limit=D.prototype.Sd;D.prototype.zd=function(a,b){x("Query.startAt",0,2,arguments.length);Fa("Query.startAt",1,a,!0);Ha("Query.startAt",b);n(a)||(b=a=null);return new D(this.m,this.path,this.Aa,a,b,this.ya,this.Wa)};D.prototype.startAt=D.prototype.zd;
D.prototype.dd=function(a,b){x("Query.endAt",0,2,arguments.length);Fa("Query.endAt",1,a,!0);Ha("Query.endAt",b);return new D(this.m,this.path,this.Aa,this.ca,this.va,a,b)};D.prototype.endAt=D.prototype.dd;D.prototype.Kd=function(a,b){x("Query.equalTo",1,2,arguments.length);Fa("Query.equalTo",1,a,!1);Ha("Query.equalTo",b);return this.zd(a,b).dd(a,b)};D.prototype.equalTo=D.prototype.Kd;
function Ka(a){var b={};n(a.ca)&&(b.sp=a.ca);n(a.va)&&(b.sn=a.va);n(a.ya)&&(b.ep=a.ya);n(a.Wa)&&(b.en=a.Wa);n(a.Aa)&&(b.l=a.Aa);n(a.ca)&&n(a.va)&&null===a.ca&&null===a.va&&(b.vf="l");return b}D.prototype.Oa=function(){var a=La(Ka(this));return"{}"===a?"default":a};
function Ja(a,b,c){var d={};if(b&&c)d.cancel=b,z(a,3,d.cancel,!0),d.Y=c,va(a,4,d.Y);else if(b)if("object"===typeof b&&null!==b)d.Y=b;else if("function"===typeof b)d.cancel=b;else throw Error(ta.ne(a,3,!0)+"must either be a cancel callback or a context object.");return d};function F(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.U=0}else this.o=a,this.U=b}function C(a){return a.U>=a.o.length?null:a.o[a.U]}function I(a){var b=a.U;b<a.o.length&&b++;return new F(a.o,b)}function Ma(a){return a.U<a.o.length?a.o[a.o.length-1]:null}k=F.prototype;k.toString=function(){for(var a="",b=this.U;b<this.o.length;b++)""!==this.o[b]&&(a+="/"+this.o[b]);return a||"/"};
k.parent=function(){if(this.U>=this.o.length)return null;for(var a=[],b=this.U;b<this.o.length-1;b++)a.push(this.o[b]);return new F(a,0)};k.G=function(a){for(var b=[],c=this.U;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof F)for(c=a.U;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new F(b,0)};k.f=function(){return this.U>=this.o.length};k.length=function(){return this.o.length-this.U};
function Na(a,b){var c=C(a);if(null===c)return b;if(c===C(b))return Na(I(a),I(b));throw"INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")";}k.contains=function(a){var b=this.U,c=a.U;if(this.length()>a.length())return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};function Oa(){this.children={};this.wc=0;this.value=null}function Pa(a,b,c){this.Ba=a?a:"";this.Cb=b?b:null;this.C=c?c:new Oa}function J(a,b){for(var c=b instanceof F?b:new F(b),d=a,e;null!==(e=C(c));)d=new Pa(e,d,wa(d.C.children,e)||new Oa),c=I(c);return d}k=Pa.prototype;k.j=function(){return this.C.value};function K(a,b){v("undefined"!==typeof b,"Cannot set value to undefined");a.C.value=b;Qa(a)}k.qb=function(){return 0<this.C.wc};k.f=function(){return null===this.j()&&!this.qb()};
k.A=function(a){for(var b in this.C.children)a(new Pa(b,this,this.C.children[b]))};function Ra(a,b,c,d){c&&!d&&b(a);a.A(function(a){Ra(a,b,!0,d)});c&&d&&b(a)}function Sa(a,b,c){for(a=c?a:a.parent();null!==a;){if(b(a))return!0;a=a.parent()}return!1}k.path=function(){return new F(null===this.Cb?this.Ba:this.Cb.path()+"/"+this.Ba)};k.name=function(){return this.Ba};k.parent=function(){return this.Cb};
function Qa(a){if(null!==a.Cb){var b=a.Cb,c=a.Ba,d=a.f(),e=A(b.C.children,c);d&&e?(delete b.C.children[c],b.C.wc--,Qa(b)):d||e||(b.C.children[c]=a.C,b.C.wc++,Qa(b))}};function Ta(a,b){this.Ta=a?a:Ua;this.ba=b?b:Va}function Ua(a,b){return a<b?-1:a>b?1:0}k=Ta.prototype;k.pa=function(a,b){return new Ta(this.Ta,this.ba.pa(a,b,this.Ta).J(null,null,!1,null,null))};k.remove=function(a){return new Ta(this.Ta,this.ba.remove(a,this.Ta).J(null,null,!1,null,null))};k.get=function(a){for(var b,c=this.ba;!c.f();){b=this.Ta(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Wa(a,b){for(var c,d=a.ba,e=null;!d.f();){c=a.Ta(b,d.key);if(0===c){if(d.left.f())return e?e.key:null;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}k.f=function(){return this.ba.f()};k.count=function(){return this.ba.count()};k.vb=function(){return this.ba.vb()};k.$a=function(){return this.ba.$a()};k.za=function(a){return this.ba.za(a)};k.Pa=function(a){return this.ba.Pa(a)};
k.Za=function(a){return new Xa(this.ba,a)};function Xa(a,b){this.td=b;for(this.ac=[];!a.f();)this.ac.push(a),a=a.left}function Ya(a){if(0===a.ac.length)return null;var b=a.ac.pop(),c;c=a.td?a.td(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.f();)a.ac.push(b),b=b.left;return c}function Za(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Va;this.right=null!=e?e:Va}k=Za.prototype;
k.J=function(a,b,c,d,e){return new Za(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};k.count=function(){return this.left.count()+1+this.right.count()};k.f=function(){return!1};k.za=function(a){return this.left.za(a)||a(this.key,this.value)||this.right.za(a)};k.Pa=function(a){return this.right.Pa(a)||a(this.key,this.value)||this.left.Pa(a)};function $a(a){return a.left.f()?a:$a(a.left)}k.vb=function(){return $a(this).key};
k.$a=function(){return this.right.f()?this.key:this.right.$a()};k.pa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.J(null,null,null,e.left.pa(a,b,c),null):0===d?e.J(null,b,null,null,null):e.J(null,null,null,null,e.right.pa(a,b,c));return cb(e)};function db(a){if(a.left.f())return Va;a.left.P()||a.left.left.P()||(a=eb(a));a=a.J(null,null,null,db(a.left),null);return cb(a)}
k.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.f()||c.left.P()||c.left.left.P()||(c=eb(c)),c=c.J(null,null,null,c.left.remove(a,b),null);else{c.left.P()&&(c=fb(c));c.right.f()||c.right.P()||c.right.left.P()||(c=gb(c),c.left.left.P()&&(c=fb(c),c=gb(c)));if(0===b(a,c.key)){if(c.right.f())return Va;d=$a(c.right);c=c.J(d.key,d.value,null,null,db(c.right))}c=c.J(null,null,null,null,c.right.remove(a,b))}return cb(c)};k.P=function(){return this.color};
function cb(a){a.right.P()&&!a.left.P()&&(a=hb(a));a.left.P()&&a.left.left.P()&&(a=fb(a));a.left.P()&&a.right.P()&&(a=gb(a));return a}function eb(a){a=gb(a);a.right.left.P()&&(a=a.J(null,null,null,null,fb(a.right)),a=hb(a),a=gb(a));return a}function hb(a){return a.right.J(null,null,a.color,a.J(null,null,!0,null,a.right.left),null)}function fb(a){return a.left.J(null,null,a.color,null,a.J(null,null,!0,a.left.right,null))}
function gb(a){return a.J(null,null,!a.color,a.left.J(null,null,!a.left.color,null,null),a.right.J(null,null,!a.right.color,null,null))}function ib(){}k=ib.prototype;k.J=function(){return this};k.pa=function(a,b){return new Za(a,b,null)};k.remove=function(){return this};k.count=function(){return 0};k.f=function(){return!0};k.za=function(){return!1};k.Pa=function(){return!1};k.vb=function(){return null};k.$a=function(){return null};k.P=function(){return!1};var Va=new ib;function jb(a){this.Ub=a;this.ic="firebase:"}jb.prototype.set=function(a,b){null==b?this.Ub.removeItem(this.ic+a):this.Ub.setItem(this.ic+a,u(b))};jb.prototype.get=function(a){a=this.Ub.getItem(this.ic+a);return null==a?null:ra(a)};jb.prototype.remove=function(a){this.Ub.removeItem(this.ic+a)};jb.prototype.ld=!1;function kb(){this.lb={}}kb.prototype.set=function(a,b){null==b?delete this.lb[a]:this.lb[a]=b};kb.prototype.get=function(a){return A(this.lb,a)?this.lb[a]:null};kb.prototype.remove=function(a){delete this.lb[a]};kb.prototype.ld=!0;function lb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new jb(b)}}catch(c){}return new kb}var mb=lb("localStorage"),nb=lb("sessionStorage");function ob(a,b,c,d){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.oc=b;this.$b=c;this.je=d;this.fa=mb.get("host:"+a)||this.host}function pb(a,b){b!==a.fa&&(a.fa=b,"s-"===a.fa.substr(0,2)&&mb.set("host:"+a.host,a.fa))}ob.prototype.toString=function(){return(this.oc?"https://":"http://")+this.host};"use strict";function qb(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=Math.round(c/1099511627776)||32,e;if(32===d)e=a.concat(b);else{e=b;var c=c|0,f=a.slice(0,a.length-1),g;for(void 0===f&&(f=[]);32<=d;d-=32)f.push(c),c=0;if(0===d)e=f.concat(e);else{for(g=0;g<e.length;g++)f.push(c|e[g]>>>d),c=e[g]<<32-d;g=e.length?e[e.length-1]:0;e=Math.round(g/1099511627776)||32;f.push(rb(d+e&31,32<d+e?c:f.pop(),1));e=f}}return e}
function sb(a){var b=a.length;return 0===b?0:32*(b-1)+(Math.round(a[b-1]/1099511627776)||32)}function rb(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+1099511627776*a}function tb(a){var b,c="",d=0,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,g=sb(a);b&&(e=e.substr(0,62)+"-_");for(b=0;6*c.length<g;)c+=e.charAt((f^a[b]>>>d)>>>26),6>d?(f=a[b]<<6-d,d+=26,b++):(f<<=6,d-=6);for(;c.length&3;)c+="=";return c}
function ub(a){a?(this.Qb=a.Qb.slice(0),this.kb=a.kb.slice(0),this.Sa=a.Sa):this.reset()}function vb(a){a=(new ub).update(a);var b,c=a.kb,d=a.Qb,c=qb(c,[rb(1,1)]);for(b=c.length+2;b&15;b++)c.push(0);c.push(Math.floor(a.Sa/4294967296));for(c.push(a.Sa|0);c.length;)wb(a,c.splice(0,16));a.reset();return d}
ub.prototype={vc:512,reset:function(){this.Qb=this.Md.slice(0);this.kb=[];this.Sa=0;return this},update:function(a){if("string"===typeof a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(rb(8*(c&3),d));a=b}c=this.kb=qb(this.kb,a);b=this.Sa;a=this.Sa=b+sb(a);for(b=this.vc+b&-this.vc;b<=a;b+=this.vc)wb(this,c.splice(0,16));return this},Md:[1732584193,4023233417,2562383102,271733878,3285377520],Pd:[1518500249,1859775393,
2400959708,3395469782]};function wb(a,b){var c,d,e,f,g,h,l,m=b.slice(0),p=a.Qb;e=p[0];f=p[1];g=p[2];h=p[3];l=p[4];for(c=0;79>=c;c++)16<=c&&(m[c]=(m[c-3]^m[c-8]^m[c-14]^m[c-16])<<1|(m[c-3]^m[c-8]^m[c-14]^m[c-16])>>>31),d=19>=c?f&g|~f&h:39>=c?f^g^h:59>=c?f&g|f&h|g&h:79>=c?f^g^h:void 0,d=(e<<5|e>>>27)+d+l+m[c]+a.Pd[Math.floor(c/20)]|0,l=h,h=g,g=f<<30|f>>>2,f=e,e=d;p[0]=p[0]+e|0;p[1]=p[1]+f|0;p[2]=p[2]+g|0;p[3]=p[3]+h|0;p[4]=p[4]+l|0};var xb=Array.prototype,yb=xb.forEach?function(a,b,c){xb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},zb=xb.map?function(a,b,c){return xb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ab=xb.reduce?function(a,b,c,d){d&&(b=r(b,d));return xb.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;yb(a,function(c,g){e=b.call(d,e,c,g,a)});return e},
Bb=xb.every?function(a,b,c){return xb.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Cb(a,b){var c;a:{c=a.length;for(var d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:q(a)?a.charAt(c):a[c]};var Db;a:{var Eb=aa.navigator;if(Eb){var Fb=Eb.userAgent;if(Fb){Db=Fb;break a}}Db=""}function Gb(a){return-1!=Db.indexOf(a)};var Hb=Gb("Opera")||Gb("OPR"),Ib=Gb("Trident")||Gb("MSIE"),Jb=Gb("Gecko")&&-1==Db.toLowerCase().indexOf("webkit")&&!(Gb("Trident")||Gb("MSIE")),Kb=-1!=Db.toLowerCase().indexOf("webkit");(function(){var a="",b;if(Hb&&aa.opera)return a=aa.opera.version,"function"==da(a)?a():a;Jb?b=/rv\:([^\);]+)(\)|;)/:Ib?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Kb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Db))?a[1]:"");return Ib&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Lb=null,Mb=null;var Nb=function(){var a=1;return function(){return a++}}();function v(a,b){if(!a)throw Error("Firebase INTERNAL ASSERT FAILED:"+b);}function Ob(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+Ob.apply(null,arguments[c]):"object"===typeof arguments[c]?b+u(arguments[c]):b+arguments[c],b+=" ";return b}var Pb=null,Qb=!0;function Rb(a){!0===Qb&&(Qb=!1,null===Pb&&!0===nb.get("logging_enabled")&&Sb(!0));if(Pb){var b=Ob.apply(null,arguments);Pb(b)}}
function Tb(a){return function(){Rb(a,arguments)}}function Ub(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Ob.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function Vb(a){var b=Ob.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function L(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Ob.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function Da(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Wb(a){a()}function Xb(a,b){return a!==b?null===a?-1:null===b?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}function Yb(a,b){if(a===b)return 0;var c=Zb(a),d=Zb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function $b(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+u(b));}
function La(a){if("object"!==typeof a||null===a)return u(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=u(b[d]),c+=":",c+=La(a[b[d]]);return c+"}"}function ac(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function bc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else cc(a,b)}function dc(a,b){return b?r(a,b):a}
function ec(a){v(!Da(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}function fc(a){var b="Unknown Error";"too_big"===a?b="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==a?b="Client doesn't have permission to access the desired data.":"unavailable"==a&&(b="The service is unavailable");b=Error(a+": "+b);b.code=a.toUpperCase();return b}var gc=/^-?\d{1,10}$/;function Zb(a){return gc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}
function hc(a){try{a()}catch(b){setTimeout(function(){throw b;},Math.floor(0))}};function jc(a,b){this.F=a;v(null!==this.F,"LeafNode shouldn't be created with null value.");this.bb="undefined"!==typeof b?b:null}k=jc.prototype;k.O=function(){return!0};k.k=function(){return this.bb};k.Ea=function(a){return new jc(this.F,a)};k.N=function(){return M};k.K=function(a){return null===C(a)?this:M};k.ea=function(){return null};k.H=function(a,b){return(new N).H(a,b).Ea(this.bb)};k.xa=function(a,b){var c=C(a);return null===c?b:this.H(c,M.xa(I(a),b))};k.f=function(){return!1};k.bc=function(){return 0};
k.V=function(a){return a&&null!==this.k()?{".value":this.j(),".priority":this.k()}:this.j()};k.hash=function(){var a="";null!==this.k()&&(a+="priority:"+kc(this.k())+":");var b=typeof this.F,a=a+(b+":"),a="number"===b?a+ec(this.F):a+this.F;return tb(vb(a))};k.j=function(){return this.F};k.toString=function(){return"string"===typeof this.F?this.F:'"'+this.F+'"'};function lc(a,b){return Xb(a.ia,b.ia)||Yb(a.name,b.name)}function mc(a,b){return Yb(a.name,b.name)}function nc(a,b){return Yb(a,b)};function N(a,b){this.n=a||new Ta(nc);this.bb="undefined"!==typeof b?b:null}k=N.prototype;k.O=function(){return!1};k.k=function(){return this.bb};k.Ea=function(a){return new N(this.n,a)};k.H=function(a,b){var c=this.n.remove(a);b&&b.f()&&(b=null);null!==b&&(c=c.pa(a,b));return b&&null!==b.k()?new oc(c,null,this.bb):new N(c,this.bb)};k.xa=function(a,b){var c=C(a);if(null===c)return b;var d=this.N(c).xa(I(a),b);return this.H(c,d)};k.f=function(){return this.n.f()};k.bc=function(){return this.n.count()};
var pc=/^\d+$/;k=N.prototype;k.V=function(a){if(this.f())return null;var b={},c=0,d=0,e=!0;this.A(function(f,g){b[f]=g.V(a);c++;e&&pc.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&null!==this.k()&&(b[".priority"]=this.k());return b};k.hash=function(){var a="";null!==this.k()&&(a+="priority:"+kc(this.k())+":");this.A(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":tb(vb(a))};
k.N=function(a){a=this.n.get(a);return null===a?M:a};k.K=function(a){var b=C(a);return null===b?this:this.N(b).K(I(a))};k.ea=function(a){return Wa(this.n,a)};k.fd=function(){return this.n.vb()};k.hd=function(){return this.n.$a()};k.A=function(a){return this.n.za(a)};k.Bc=function(a){return this.n.Pa(a)};k.Za=function(){return this.n.Za()};k.toString=function(){var a="{",b=!0;this.A(function(c,d){b?b=!1:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var M=new N;function oc(a,b,c){N.call(this,a,c);null===b&&(b=new Ta(lc),a.za(function(a,c){b=b.pa({name:a,ia:c.k()},c)}));this.ua=b}ka(oc,N);k=oc.prototype;k.H=function(a,b){var c=this.N(a),d=this.n,e=this.ua;null!==c&&(d=d.remove(a),e=e.remove({name:a,ia:c.k()}));b&&b.f()&&(b=null);null!==b&&(d=d.pa(a,b),e=e.pa({name:a,ia:b.k()},b));return new oc(d,e,this.k())};k.ea=function(a,b){var c=Wa(this.ua,{name:a,ia:b.k()});return c?c.name:null};k.A=function(a){return this.ua.za(function(b,c){return a(b.name,c)})};
k.Bc=function(a){return this.ua.Pa(function(b,c){return a(b.name,c)})};k.Za=function(){return this.ua.Za(function(a,b){return{key:a.name,value:b}})};k.fd=function(){return this.ua.f()?null:this.ua.vb().name};k.hd=function(){return this.ua.f()?null:this.ua.$a().name};function O(a,b){if(null===a)return M;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);v(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new jc(a,c);if(a instanceof Array){var d=M,e=a;cc(e,function(a,b){if(A(e,b)&&"."!==b.substring(0,1)){var c=O(a);if(c.O()||!c.f())d=
d.H(b,c)}});return d.Ea(c)}var f=[],g={},h=!1,l=a;bc(l,function(a,b){if("string"!==typeof b||"."!==b.substring(0,1)){var c=O(l[b]);c.f()||(h=h||null!==c.k(),f.push({name:b,ia:c.k()}),g[b]=c)}});var m=qc(f,g,!1);if(h){var p=qc(f,g,!0);return new oc(m,p,c)}return new N(m,c)}var rc=Math.log(2);function sc(a){this.count=parseInt(Math.log(a+1)/rc,10);this.bd=this.count-1;this.Gd=a+1&parseInt(Array(this.count+1).join("1"),2)}function tc(a){var b=!(a.Gd&1<<a.bd);a.bd--;return b}
function qc(a,b,c){function d(e,f){var l=f-e;if(0==l)return null;if(1==l){var l=a[e].name,m=c?a[e]:l;return new Za(m,b[l],!1,null,null)}var m=parseInt(l/2,10)+e,p=d(e,m),s=d(m+1,f),l=a[m].name,m=c?a[m]:l;return new Za(m,b[l],!1,p,s)}var e=c?lc:mc;a.sort(e);var f=function(e){function f(e,g){var h=p-e,s=p;p-=e;var t=a[h].name,h=new Za(c?a[h]:t,b[t],g,null,d(h+1,s));l?l.left=h:m=h;l=h}for(var l=null,m=null,p=a.length,s=0;s<e.count;++s){var t=tc(e),w=Math.pow(2,e.count-(s+1));t?f(w,!1):(f(w,!1),f(w,!0))}return m}(new sc(a.length)),
e=c?lc:nc;return null!==f?new Ta(e,f):new Ta(e)}function kc(a){return"number"===typeof a?"number:"+ec(a):"string:"+a};function P(a,b){this.C=a;this.lc=b}P.prototype.V=function(){x("Firebase.DataSnapshot.val",0,0,arguments.length);return this.C.V()};P.prototype.val=P.prototype.V;P.prototype.Ld=function(){x("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.C.V(!0)};P.prototype.exportVal=P.prototype.Ld;P.prototype.G=function(a){x("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));Ia("Firebase.DataSnapshot.child",a);var b=new F(a),c=this.lc.G(b);return new P(this.C.K(b),c)};
P.prototype.child=P.prototype.G;P.prototype.Ec=function(a){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Ia("Firebase.DataSnapshot.hasChild",a);var b=new F(a);return!this.C.K(b).f()};P.prototype.hasChild=P.prototype.Ec;P.prototype.k=function(){x("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.C.k()};P.prototype.getPriority=P.prototype.k;
P.prototype.forEach=function(a){x("Firebase.DataSnapshot.forEach",1,1,arguments.length);z("Firebase.DataSnapshot.forEach",1,a,!1);if(this.C.O())return!1;var b=this;return this.C.A(function(c,d){return a(new P(d,b.lc.G(c)))})};P.prototype.forEach=P.prototype.forEach;P.prototype.qb=function(){x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.C.O()?!1:!this.C.f()};P.prototype.hasChildren=P.prototype.qb;
P.prototype.name=function(){x("Firebase.DataSnapshot.name",0,0,arguments.length);return this.lc.name()};P.prototype.name=P.prototype.name;P.prototype.bc=function(){x("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.C.bc()};P.prototype.numChildren=P.prototype.bc;P.prototype.Rc=function(){x("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.lc};P.prototype.ref=P.prototype.Rc;function uc(a){v(ea(a)&&0<a.length,"Requires a non-empty array");this.Fd=a;this.ub={}}uc.prototype.Zc=function(a,b){for(var c=this.ub[a]||[],d=0;d<c.length;d++)c[d].$.apply(c[d].Y,Array.prototype.slice.call(arguments,1))};uc.prototype.ab=function(a,b,c){vc(this,a);this.ub[a]=this.ub[a]||[];this.ub[a].push({$:b,Y:c});(a=this.gd(a))&&b.apply(c,a)};uc.prototype.wb=function(a,b,c){vc(this,a);a=this.ub[a]||[];for(var d=0;d<a.length;d++)if(a[d].$===b&&(!c||c===a[d].Y)){a.splice(d,1);break}};
function vc(a,b){v(Cb(a.Fd,function(a){return a===b}),"Unknown event: "+b)};function wc(){uc.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.ib=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.ib&&(c.ib=b,c.Zc("visible",b))},!1)}}ka(wc,uc);ca(wc);wc.prototype.gd=function(a){v("visible"===a,"Unknown event type: "+a);return[this.ib]};function xc(){uc.call(this,["online"]);this.Ab=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.Ab||a.Zc("online",!0);a.Ab=!0},!1);window.addEventListener("offline",function(){a.Ab&&a.Zc("online",!1);a.Ab=!1},!1)}}ka(xc,uc);ca(xc);xc.prototype.gd=function(a){v("online"===a,"Unknown event type: "+a);return[this.Ab]};(function(){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){a=require("_stream_writable");a.prototype.write=function(a,e,h){var l=this._writableState,m=!1;"function"===typeof e&&(h=e,e=null);Buffer.isBuffer(a)?e="buffer":e||(e=l.defaultEncoding);"function"!==typeof h&&(h=function(){});l.ended?b(this,h):c(this,l,a,h)&&(m=d(this,l,a,e,h));return m};var b=function(a,b){var c=Error("write after end");a.emit("error",c);process.nextTick(function(){b(c)})},c=function(a,b,c,d){var e=
!0;if(!Buffer.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var p=new TypeError("Invalid non-string/buffer chunk");a.emit("error",p);process.nextTick(function(){d(p)});e=!1}return e},d=function(a,b,c,d,m){b.objectMode||!1===b.decodeStrings||"string"!==typeof c||(c=new Buffer(c,d));Buffer.isBuffer(c)&&(d="buffer");var p=b.objectMode?1:c.length;b.length+=p;var s=b.length<b.highWaterMark;s||(b.needDrain=!0);b.writing?b.buffer.push(new e(c,d,m)):(b.writelen=p,b.writecb=m,b.writing=
!0,b.sync=!0,a._write(c,d,b.onwrite),b.sync=!1);return s},e=function(a,b,c){this.chunk=a;this.encoding=b;this.callback=c};require("_stream_duplex").prototype.write=a.prototype.write}})();function cc(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function yc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function zc(a){var b={},c;for(c in a)b[c]=a[c];return b};function Ac(){this.mb={}}function Bc(a,b,c){n(c)||(c=1);A(a.mb,b)||(a.mb[b]=0);a.mb[b]+=c}Ac.prototype.get=function(){return zc(this.mb)};function Cc(a){this.Hd=a;this.Wb=null}Cc.prototype.get=function(){var a=this.Hd.get(),b=zc(a);if(this.Wb)for(var c in this.Wb)b[c]-=this.Wb[c];this.Wb=a;return b};function Dc(a,b){this.Wc={};this.qc=new Cc(a);this.u=b;var c=1E4+2E4*Math.random();setTimeout(r(this.rd,this),Math.floor(c))}Dc.prototype.rd=function(){var a=this.qc.get(),b={},c=!1,d;for(d in a)0<a[d]&&A(this.Wc,d)&&(b[d]=a[d],c=!0);c&&(a=this.u,a.R&&(b={c:b},a.e("reportStats",b),a.Ca("s",b)));setTimeout(r(this.rd,this),Math.floor(6E5*Math.random()))};var Ec={},Fc={};function Gc(a){a=a.toString();Ec[a]||(Ec[a]=new Ac);return Ec[a]}function Hc(a,b){var c=a.toString();Fc[c]||(Fc[c]=b());return Fc[c]};var Ic=null,Ic=require("faye-websocket").Client;function Q(a,b,c){this.yc=a;this.e=Tb(this.yc);this.frames=this.sb=null;this.Fa=this.Ga=this.Yc=0;this.da=Gc(b);this.Ua=(b.oc?"wss://":"ws://")+b.fa+"/.ws?v=5";b.host!==b.fa&&(this.Ua=this.Ua+"&ns="+b.$b);c&&(this.Ua=this.Ua+"&s="+c)}var Jc;
Q.prototype.open=function(a,b){this.ha=b;this.Ud=a;this.e("Websocket connecting to "+this.Ua);this.W=new Ic(this.Ua);this.nb=!1;mb.set("previous_websocket_failure",!0);var c=this;this.W.onopen=function(){c.e("Websocket connected.");c.nb=!0};this.W.onclose=function(){c.e("Websocket connection was disconnected.");c.W=null;c.Na()};this.W.onmessage=function(a){if(null!==c.W)if(a=a.data,c.Fa+=a.length,Bc(c.da,"bytes_received",a.length),Kc(c),null!==c.frames)Lc(c,a);else{a:{v(null===c.frames,"We already have a frame buffer");
if(6>=a.length){var b=Number(a);if(!isNaN(b)){c.Yc=b;c.frames=[];a=null;break a}}c.Yc=1;c.frames=[]}null!==a&&Lc(c,a)}};this.W.onerror=function(a){c.e("WebSocket error.  Closing connection.");(a=a.message||a.data)&&c.e(a);c.Na()}};Q.prototype.start=function(){};Q.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Ic&&!Jc};
Q.responsesRequiredToBeHealthy=2;Q.healthyTimeout=3E4;k=Q.prototype;k.Xb=function(){mb.remove("previous_websocket_failure")};function Lc(a,b){a.frames.push(b);if(a.frames.length==a.Yc){var c=a.frames.join("");a.frames=null;c=ra(c);a.Ud(c)}}k.send=function(a){Kc(this);a=u(a);this.Ga+=a.length;Bc(this.da,"bytes_sent",a.length);a=ac(a,16384);1<a.length&&this.W.send(String(a.length));for(var b=0;b<a.length;b++)this.W.send(a[b])};
k.Kb=function(){this.Ka=!0;this.sb&&(clearInterval(this.sb),this.sb=null);this.W&&(this.W.close(),this.W=null)};k.Na=function(){this.Ka||(this.e("WebSocket is closing itself"),this.Kb(),this.ha&&(this.ha(this.nb),this.ha=null))};k.close=function(){this.Ka||(this.e("WebSocket is being closed"),this.Kb())};function Kc(a){clearInterval(a.sb);a.sb=setInterval(function(){a.W&&a.W.send("0");Kc(a)},Math.floor(45E3))};function Mc(a){this.Mc=a;this.hc=[];this.Va=0;this.xc=-1;this.Ma=null}function Nc(a,b,c){a.xc=b;a.Ma=c;a.xc<a.Va&&(a.Ma(),a.Ma=null)}function Oc(a,b,c){for(a.hc[b]=c;a.hc[a.Va];){var d=a.hc[a.Va];delete a.hc[a.Va];for(var e=0;e<d.length;++e)if(d[e]){var f=a;hc(function(){f.Mc(d[e])})}if(a.Va===a.xc){a.Ma&&(clearTimeout(a.Ma),a.Ma(),a.Ma=null);break}a.Va++}};function Pc(){this.set={}}k=Pc.prototype;k.add=function(a,b){this.set[a]=null!==b?b:!0};k.contains=function(a){return A(this.set,a)};k.get=function(a){return this.contains(a)?this.set[a]:void 0};k.remove=function(a){delete this.set[a]};k.f=function(){var a;a:{a=this.set;for(var b in a){a=!1;break a}a=!0}return a};k.count=function(){var a=this.set,b=0,c;for(c in a)b++;return b};function R(a,b){cc(a.set,function(a,d){b(d,a)})}k.keys=function(){var a=[];cc(this.set,function(b,c){a.push(c)});return a};function Qc(a,b,c){this.yc=a;this.e=Tb(a);this.Fa=this.Ga=0;this.da=Gc(b);this.pc=c;this.nb=!1;this.Ob=function(a){b.host!==b.fa&&(a.ns=b.$b);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.oc?"https://":"http://")+b.fa+"/.lp?"+c.join("&")}}var Rc,Sc;
Qc.prototype.open=function(a,b){this.ad=0;this.S=b;this.od=new Mc(a);this.Ka=!1;var c=this;this.Ha=setTimeout(function(){c.e("Timed out trying to connect.");c.Na();c.Ha=null},Math.floor(3E4));Wb(function(){if(!c.Ka){c.ka=new Tc(function(a,b,d,h,l){Uc(c,arguments);if(c.ka)if(c.Ha&&(clearTimeout(c.Ha),c.Ha=null),c.nb=!0,"start"==a)c.id=b,c.Zd=d;else if("close"===a)b?(c.ka.wd=!1,Nc(c.od,b,function(){c.Na()})):c.Na();else throw Error("Unrecognized command received: "+a);},function(a,b){Uc(c,arguments);
Oc(c.od,a,b)},function(){c.Na()},c.Ob);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.ka.ie&&(a.cb=c.ka.ie);a.v="5";c.pc&&(a.s=c.pc);a=c.Ob(a);c.e("Connecting via long-poll to "+a);Vc(c.ka,a,function(){})}})};Qc.prototype.start=function(){var a=this.ka,b=this.Zd;a.Ic=this.id;a.nd=b;for(a.tc=!0;Wc(a););};
Qc.isAvailable=function(){return!Sc&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.ke)&&(Rc||!1)};k=Qc.prototype;k.Xb=function(){};k.Kb=function(){this.Ka=!0;this.ka&&(this.ka.close(),this.ka=null);this.md&&(document.body.removeChild(this.md),this.md=null);this.Ha&&(clearTimeout(this.Ha),this.Ha=null)};
k.Na=function(){this.Ka||(this.e("Longpoll is closing itself"),this.Kb(),this.S&&(this.S(this.nb),this.S=null))};k.close=function(){this.Ka||(this.e("Longpoll is being closed."),this.Kb())};
k.send=function(a){a=u(a);this.Ga+=a.length;Bc(this.da,"bytes_sent",a.length);a=sa(a);if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!Lb){Lb={};Mb={};for(var b=0;65>b;b++)Lb[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),Mb[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b)}for(var b=Mb,c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,l=h?a[d+2]:0,m=e>>2,e=(e&3)<<4|g>>4,g=(g&15)<<
2|l>>6,l=l&63;h||(l=64,f||(g=64));c.push(b[m],b[e],b[g],b[l])}a=ac(c.join(""),1840);for(b=0;b<a.length;b++)c=this.ka,c.Eb.push({de:this.ad,he:a.length,cd:a[b]}),c.tc&&Wc(c),this.ad++};function Uc(a,b){var c=u(b).length;a.Fa+=c;Bc(a.da,"bytes_received",c)}function Tc(a,b,c,d){this.Ob=d;this.ha=c;this.Oc=new Pc;this.Eb=[];this.zc=Math.floor(1E8*Math.random());this.wd=!0;this.Id=a;this.Vd=b}
Tc.prototype.close=function(){this.tc=!1;if(this.Zb){this.Zb.me.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Zb&&(document.body.removeChild(a.Zb),a.Zb=null)},Math.floor(0))}if(this.Ic){var b={disconn:"t"};b.id=this.Ic;b.pw=this.nd;b=this.Ob(b);Xc(b)}if(b=this.ha)this.ha=null,b()};
function Wc(a){if(a.tc&&a.wd&&a.Oc.count()<(0<a.Eb.length?2:1)){a.zc++;var b={};b.id=a.Ic;b.pw=a.nd;b.ser=a.zc;for(var b=a.Ob(b),c="",d=0;0<a.Eb.length;)if(1870>=a.Eb[0].cd.length+30+c.length){var e=a.Eb.shift(),c=c+"&seg"+d+"="+e.de+"&ts"+d+"="+e.he+"&d"+d+"="+e.cd;d++}else break;$c(a,b+c,a.zc);return!0}return!1}function $c(a,b,c){function d(){a.Oc.remove(c);Wc(a)}a.Oc.add(c);var e=setTimeout(d,Math.floor(25E3));Vc(a,b,function(){clearTimeout(e);d()})}function Vc(a,b,c){ad(a,b,c)}var bd=null;
function Xc(a,b){bd||(bd=require("request"));bd(a,function(c,d,e){if(c)throw"Rest request for "+a.url+" failed.";b&&b(e)})}function ad(a,b,c){Xc({url:b,oe:!0},function(b){cd(a,b);c()})}function cd(a,b){eval("var jsonpCB = function(pLPCommand, pRTLPCB) {"+b+"}");jsonpCB(a.Id,a.Vd)};function dd(a){ed(this,a)}var fd=[Qc,Q];function ed(a,b){var c=Q&&Q.isAvailable(),d=c&&!(mb.ld||!0===mb.get("previous_websocket_failure"));b.je&&(c||L("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Lb=[Q];else{var e=a.Lb=[];bc(fd,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function gd(a){if(0<a.Lb.length)return a.Lb[0];throw Error("No transports available");};function hd(a,b,c,d,e,f){this.id=a;this.e=Tb("c:"+this.id+":");this.Mc=c;this.zb=d;this.S=e;this.Lc=f;this.M=b;this.gc=[];this.$c=0;this.Bd=new dd(b);this.la=0;this.e("Connection created");id(this)}
function id(a){var b=gd(a.Bd);a.B=new b("c:"+a.id+":"+a.$c++,a.M);a.Qc=b.responsesRequiredToBeHealthy||0;var c=jd(a,a.B),d=kd(a,a.B);a.Mb=a.B;a.Jb=a.B;a.w=null;a.La=!1;setTimeout(function(){a.B&&a.B.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.Vb=setTimeout(function(){a.Vb=null;a.La||(a.B&&102400<a.B.Fa?(a.e("Connection exceeded healthy timeout but has received "+a.B.Fa+" bytes.  Marking connection healthy."),a.La=!0,a.B.Xb()):a.B&&10240<a.B.Ga?a.e("Connection exceeded healthy timeout but has sent "+
a.B.Ga+" bytes.  Leaving connection alive."):(a.e("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function kd(a,b){return function(c){b===a.B?(a.B=null,c||0!==a.la?1===a.la&&a.e("Realtime connection lost."):(a.e("Realtime connection failed."),"s-"===a.M.fa.substr(0,2)&&(mb.remove("host:"+a.M.host),a.M.fa=a.M.host)),a.close()):b===a.w?(a.e("Secondary connection lost."),c=a.w,a.w=null,a.Mb!==c&&a.Jb!==c||a.close()):a.e("closing an old connection")}}
function jd(a,b){return function(c){if(2!=a.la)if(b===a.Jb){var d=$b("t",c);c=$b("d",c);if("c"==d){if(d=$b("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.pc=c.s;pb(a.M,f);0==a.la&&(a.B.start(),ld(a,a.B,d),"5"!==e&&L("Protocol version mismatch detected"),c=a.Bd,(c=1<c.Lb.length?c.Lb[1]:null)&&md(a,c))}else if("n"===d){a.e("recvd end transmission on primary");a.Jb=a.w;for(c=0;c<a.gc.length;++c)a.ec(a.gc[c]);a.gc=[];nd(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),
a.Lc&&(a.Lc(c),a.Lc=null),a.S=null,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),pb(a.M,c),1===a.la?a.close():(od(a),id(a))):"e"===d?Ub("Server Error: "+c):"o"===d?(a.e("got pong on primary."),pd(a),qd(a)):Ub("Unknown control packet command: "+d)}else"d"==d&&a.ec(c)}else if(b===a.w)if(d=$b("t",c),c=$b("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?rd(a):"r"===c?(a.e("Got a reset on secondary, closing it"),a.w.close(),a.Mb!==a.w&&a.Jb!==a.w||a.close()):"o"===c&&(a.e("got pong on secondary."),
a.vd--,rd(a)));else if("d"==d)a.gc.push(c);else throw Error("Unknown protocol layer: "+d);else a.e("message on old connection")}}hd.prototype.xd=function(a){sd(this,{t:"d",d:a})};function nd(a){a.Mb===a.w&&a.Jb===a.w&&(a.e("cleaning up and promoting a connection: "+a.w.yc),a.B=a.w,a.w=null)}
function rd(a){0>=a.vd?(a.e("Secondary connection is healthy."),a.La=!0,a.w.Xb(),a.w.start(),a.e("sending client ack on secondary"),a.w.send({t:"c",d:{t:"a",d:{}}}),a.e("Ending transmission on primary"),a.B.send({t:"c",d:{t:"n",d:{}}}),a.Mb=a.w,nd(a)):(a.e("sending ping on secondary."),a.w.send({t:"c",d:{t:"p",d:{}}}))}hd.prototype.ec=function(a){pd(this);this.Mc(a)};function pd(a){a.La||(a.Qc--,0>=a.Qc&&(a.e("Primary connection is healthy."),a.La=!0,a.B.Xb()))}
function md(a,b){a.w=new b("c:"+a.id+":"+a.$c++,a.M,a.pc);a.vd=b.responsesRequiredToBeHealthy||0;a.w.open(jd(a,a.w),kd(a,a.w));setTimeout(function(){a.w&&(a.e("Timed out trying to upgrade."),a.w.close())},Math.floor(6E4))}function ld(a,b,c){a.e("Realtime connection established.");a.B=b;a.la=1;a.zb&&(a.zb(c),a.zb=null);0===a.Qc?(a.e("Primary connection is healthy."),a.La=!0):setTimeout(function(){qd(a)},Math.floor(5E3))}
function qd(a){a.La||1!==a.la||(a.e("sending ping on primary."),sd(a,{t:"c",d:{t:"p",d:{}}}))}function sd(a,b){if(1!==a.la)throw"Connection is not connected";a.Mb.send(b)}hd.prototype.close=function(){2!==this.la&&(this.e("Closing realtime connection."),this.la=2,od(this),this.S&&(this.S(),this.S=null))};function od(a){a.e("Shutting down all connections");a.B&&(a.B.close(),a.B=null);a.w&&(a.w.close(),a.w=null);a.Vb&&(clearTimeout(a.Vb),a.Vb=null)};function td(a,b,c,d,e,f){this.id=ud++;this.e=Tb("p:"+this.id+":");this.Qa=!0;this.ga={};this.T=[];this.Bb=0;this.yb=[];this.R=!1;this.ra=1E3;this.Yb=3E5;this.fc=b||ba;this.dc=c||ba;this.xb=d||ba;this.Nc=e||ba;this.Dc=f||ba;this.M=a;this.Sc=null;this.Ib={};this.ce=0;this.tb=this.Hc=null;vd(this,0);wc.pb().ab("visible",this.Xd,this);-1===a.host.indexOf("fblocal")&&xc.pb().ab("online",this.Wd,this)}var ud=0,wd=0;k=td.prototype;
k.Ca=function(a,b,c){var d=++this.ce;a={r:d,a:a,b:b};this.e(u(a));v(this.R,"sendRequest_ call when we're not connected not allowed.");this.ja.xd(a);c&&(this.Ib[d]=c)};function xd(a,b,c){var d=b.toString(),e=b.path().toString();a.ga[e]=a.ga[e]||{};v(!a.ga[e][d],"listen() called twice for same path/queryId.");a.ga[e][d]={eb:b.eb(),D:c};a.R&&yd(a,e,d,b.eb(),c)}
function yd(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b};d=zb(d,function(a){return Ka(a)});"{}"!==c&&(f.q=d);f.h=a.Dc(b);a.Ca("l",f,function(d){a.e("listen response",d);d=d.s;"ok"!==d&&zd(a,b,c);e&&e(d)})}
k.jb=function(a,b,c){this.Ia={Jd:a,ed:!1,$:b,Rb:c};this.e("Authenticating using credential: "+this.Ia);Ad(this);if(!(b=40==a.length))a:{var d;try{var e=a.split(".");if(3!==e.length){b=!1;break a}var f;b:{try{f=(new Buffer(e[1],"base64")).toString("utf8");break b}catch(g){Rb("base64DecodeIfNativeSupport failed: ",g)}f=null}null!==f&&(d=ra(f))}catch(h){Rb("isAdminAuthToken_ failed",h)}b="object"===typeof d&&!0===wa(d,"admin")}b&&(this.e("Admin auth credential detected.  Reducing max reconnect time."),
this.Yb=3E4)};k.Nb=function(a){delete this.Ia;this.xb(!1);this.R&&this.Ca("unauth",{},function(b){a(b.s,b.d)})};function Ad(a){var b=a.Ia;a.R&&b&&a.Ca("auth",{cred:b.Jd},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Ia===b&&delete a.Ia;a.xb("ok"===d);b.ed?"ok"!==d&&b.Rb&&b.Rb(d,c):(b.ed=!0,b.$&&b.$(d,c))})}function Bd(a,b,c,d){b=b.toString();zd(a,b,c)&&a.R&&Cd(a,b,c,d)}function Cd(a,b,c,d){a.e("Unlisten on "+b+" for "+c);b={p:b};d=zb(d,function(a){return Ka(a)});"{}"!==c&&(b.q=d);a.Ca("u",b)}
function Dd(a,b,c,d){a.R?Ed(a,"o",b,c,d):a.yb.push({Pc:b,action:"o",data:c,D:d})}function Fd(a,b,c,d){a.R?Ed(a,"om",b,c,d):a.yb.push({Pc:b,action:"om",data:c,D:d})}k.Kc=function(a,b){this.R?Ed(this,"oc",a,null,b):this.yb.push({Pc:a,action:"oc",data:null,D:b})};function Ed(a,b,c,d,e){c={p:c,d:d};a.e("onDisconnect "+b,c);a.Ca(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}k.put=function(a,b,c,d){Gd(this,"p",a,b,c,d)};function Hd(a,b,c,d){Gd(a,"m",b,c,d,void 0)}
function Gd(a,b,c,d,e,f){c={p:c,d:d};n(f)&&(c.h=f);a.T.push({action:b,sd:c,D:e});a.Bb++;b=a.T.length-1;a.R&&Id(a,b)}function Id(a,b){var c=a.T[b].action,d=a.T[b].sd,e=a.T[b].D;a.T[b].$d=a.R;a.Ca(c,d,function(d){a.e(c+" response",d);delete a.T[b];a.Bb--;0===a.Bb&&(a.T=[]);e&&e(d.s,d.d)})}
k.ec=function(a){if("r"in a){this.e("from server: "+u(a));var b=a.r,c=this.Ib[b];c&&(delete this.Ib[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.e("handleServerMessage",b,c),"d"===b?this.fc(c.p,c.d,!1):"m"===b?this.fc(c.p,c.d,!0):"c"===b?Jd(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Ia,delete this.Ia,c&&c.Rb&&c.Rb(a,b),this.xb(!1)):"sd"===b?this.Sc?this.Sc(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):Ub("Unrecognized action received from server: "+u(b)+"\nAre you using the latest client?"))}};k.zb=function(a){this.e("connection ready");this.R=!0;this.tb=(new Date).getTime();this.Nc({serverTimeOffset:a-(new Date).getTime()});Ad(this);for(var b in this.ga)for(var c in this.ga[b])a=this.ga[b][c],yd(this,b,c,a.eb,a.D);for(b=0;b<this.T.length;b++)this.T[b]&&Id(this,b);for(;this.yb.length;)b=this.yb.shift(),Ed(this,b.action,b.Pc,b.data,b.D);this.dc(!0)};
function vd(a,b){v(!a.ja,"Scheduling a connect when we're already connected/ing?");a.Xa&&clearTimeout(a.Xa);a.Xa=setTimeout(function(){a.Xa=null;Kd(a)},Math.floor(b))}k.Xd=function(a){a&&!this.ib&&this.ra===this.Yb&&(this.e("Window became visible.  Reducing delay."),this.ra=1E3,this.ja||vd(this,0));this.ib=a};
k.Wd=function(a){a?(this.e("Browser went online.  Reconnecting."),this.ra=1E3,this.Qa=!0,this.ja||vd(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Qa=!1,this.ja&&this.ja.close())};
k.pd=function(){this.e("data client disconnected");this.R=!1;this.ja=null;for(var a=0;a<this.T.length;a++){var b=this.T[a];b&&"h"in b.sd&&b.$d&&(b.D&&b.D("disconnect"),delete this.T[a],this.Bb--)}0===this.Bb&&(this.T=[]);if(this.Qa)this.ib?this.tb&&(3E4<(new Date).getTime()-this.tb&&(this.ra=1E3),this.tb=null):(this.e("Window isn't visible.  Delaying reconnect."),this.ra=this.Yb,this.Hc=(new Date).getTime()),a=Math.max(0,this.ra-((new Date).getTime()-this.Hc)),a*=Math.random(),this.e("Trying to reconnect in "+
a+"ms"),vd(this,a),this.ra=Math.min(this.Yb,1.3*this.ra);else for(var c in this.Ib)delete this.Ib[c];this.dc(!1)};function Kd(a){if(a.Qa){a.e("Making a connection attempt");a.Hc=(new Date).getTime();a.tb=null;var b=r(a.ec,a),c=r(a.zb,a),d=r(a.pd,a),e=a.id+":"+wd++;a.ja=new hd(e,a.M,b,c,d,function(b){L(b+" ("+a.M.toString()+")");a.Qa=!1})}}k.Ja=function(){this.Qa=!1;this.ja?this.ja.close():(this.Xa&&(clearTimeout(this.Xa),this.Xa=null),this.R&&this.pd())};
k.gb=function(){this.Qa=!0;this.ra=1E3;this.R||vd(this,0)};function Jd(a,b,c){c=c?zb(c,function(a){return La(a)}).join("$"):"{}";(a=zd(a,b,c))&&a.D&&a.D("permission_denied")}function zd(a,b,c){b=(new F(b)).toString();c||(c="{}");var d=a.ga[b][c];delete a.ga[b][c];return d};function Ld(){this.n=this.F=null}function Md(a,b,c){if(b.f())a.F=c,a.n=null;else if(null!==a.F)a.F=a.F.xa(b,c);else{null==a.n&&(a.n=new Pc);var d=C(b);a.n.contains(d)||a.n.add(d,new Ld);a=a.n.get(d);b=I(b);Md(a,b,c)}}function Nd(a,b){if(b.f())return a.F=null,a.n=null,!0;if(null!==a.F){if(a.F.O())return!1;var c=a.F;a.F=null;c.A(function(b,c){Md(a,new F(b),c)});return Nd(a,b)}return null!==a.n?(c=C(b),b=I(b),a.n.contains(c)&&Nd(a.n.get(c),b)&&a.n.remove(c),a.n.f()?(a.n=null,!0):!1):!0}
function Od(a,b,c){null!==a.F?c(b,a.F):a.A(function(a,e){var f=new F(b.toString()+"/"+a);Od(e,f,c)})}Ld.prototype.A=function(a){null!==this.n&&R(this.n,function(b,c){a(b,c)})};function Pd(){this.Z=M}function S(a,b){return a.Z.K(b)}function T(a,b,c){a.Z=a.Z.xa(b,c)}Pd.prototype.toString=function(){return this.Z.toString()};function Qd(){this.sa=new Pd;this.L=new Pd;this.na=new Pd;this.Db=new Pa}function Rd(a,b,c){T(a.sa,b,c);return Sd(a,b)}function Sd(a,b){for(var c=S(a.sa,b),d=S(a.L,b),e=J(a.Db,b),f=!1,g=e;null!==g;){if(null!==g.j()){f=!0;break}g=g.parent()}if(f)return!1;c=Td(c,d,e);return c!==d?(T(a.L,b,c),!0):!1}function Td(a,b,c){if(c.f())return a;if(null!==c.j())return b;a=a||M;c.A(function(d){d=d.name();var e=a.N(d),f=b.N(d),g=J(c,d),e=Td(e,f,g);a=a.H(d,e)});return a}
Qd.prototype.set=function(a,b){var c=this,d=[];yb(b,function(a){var b=a.path;a=a.qa;var g=Nb();K(J(c.Db,b),g);T(c.L,b,a);d.push({path:b,ee:g})});return d};function Ud(a,b){yb(b,function(b){var d=b.ee;b=J(a.Db,b.path);var e=b.j();v(null!==e,"pendingPut should not be null.");e===d&&K(b,null)})};function Vd(a,b){return a&&"object"===typeof a?(v(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Wd(a,b){var c=new Ld;Od(a,new F(""),function(a,e){Md(c,a,Xd(e,b))});return c}function Xd(a,b){var c=Vd(a.k(),b),d;if(a.O()){var e=Vd(a.j(),b);return e!==a.j()||c!==a.k()?new jc(e,c):a}d=a;c!==a.k()&&(d=d.Ea(c));a.A(function(a,c){var e=Xd(c,b);e!==c&&(d=d.H(a,e))});return d};function Yd(){this.Ya=[]}function Zd(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.Ya.push(b[c])}Yd.prototype.Gb=function(){for(var a=0;a<this.Ya.length;a++)if(this.Ya[a]){var b=this.Ya[a];this.Ya[a]=null;$d(b)}this.Ya=[]};function $d(a){var b=a.$,c=a.yd,d=a.Fb;hc(function(){b(c,d)})};function V(a,b,c,d){this.type=a;this.ta=b;this.aa=c;this.Fb=d};function ae(a){this.Q=a;this.oa=[];this.Ac=new Yd}function be(a,b,c,d,e){a.oa.push({type:b,$:c,cancel:d,Y:e});d=[];var f=ce(a.i);a.rb&&f.push(new V("value",a.i));for(var g=0;g<f.length;g++)if(f[g].type===b){var h=new E(a.Q.m,a.Q.path);f[g].aa&&(h=h.G(f[g].aa));d.push({$:dc(c,e),yd:new P(f[g].ta,h),Fb:f[g].Fb})}Zd(a.Ac,d)}ae.prototype.jc=function(a,b){b=this.kc(a,b);null!=b&&de(this,b)};
function de(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,g=new E(a.Q.m,a.Q.path);b[d].aa&&(g=g.G(b[d].aa));g=new P(b[d].ta,g);"value"!==e.type||g.qb()?"value"!==e.type&&(f+=" "+g.name()):f+="("+g.V()+")";Rb(a.Q.m.u.id+": event:"+a.Q.path+":"+a.Q.Oa()+":"+f);for(f=0;f<a.oa.length;f++){var h=a.oa[f];b[d].type===h.type&&c.push({$:dc(h.$,h.Y),yd:g,Fb:e.Fb})}}Zd(a.Ac,c)}ae.prototype.Gb=function(){this.Ac.Gb()};
function ce(a){var b=[];if(!a.O()){var c=null;a.A(function(a,e){b.push(new V("child_added",e,a,c));c=a})}return b}function ee(a){a.rb||(a.rb=!0,de(a,[new V("value",a.i)]))};function fe(a,b){ae.call(this,a);this.i=b}ka(fe,ae);fe.prototype.kc=function(a,b){this.i=a;this.rb&&null!=b&&b.push(new V("value",this.i));return b};fe.prototype.ob=function(){return{}};function ge(a,b){this.Tb=a;this.Jc=b}function he(a,b,c,d,e){var f=a.K(c),g=b.K(c);d=new ge(d,e);e=ie(d,c,f,g);g=!f.f()&&!g.f()&&f.k()!==g.k();if(e||g)for(f=c,c=e;null!==f.parent();){var h=a.K(f);e=b.K(f);var l=f.parent();if(!d.Tb||J(d.Tb,l).j()){var m=b.K(l),p=[],f=Ma(f);h.f()?(h=m.ea(f,e),p.push(new V("child_added",e,f,h))):e.f()?p.push(new V("child_removed",h,f)):(h=m.ea(f,e),g&&p.push(new V("child_moved",e,f,h)),c&&p.push(new V("child_changed",e,f,h)));d.Jc(l,m,p)}g&&(g=!1,c=!0);f=l}}
function ie(a,b,c,d){var e,f=[];c===d?e=!1:c.O()&&d.O()?e=c.j()!==d.j():c.O()?(je(a,b,M,d,f),e=!0):d.O()?(je(a,b,c,M,f),e=!0):e=je(a,b,c,d,f);e?a.Jc(b,d,f):c.k()!==d.k()&&a.Jc(b,d,null);return e}
function je(a,b,c,d,e){var f=!1,g=!a.Tb||!J(a.Tb,b).f(),h=[],l=[],m=[],p=[],s={},t={},w,U,G,H;w=c.Za();G=Ya(w);U=d.Za();for(H=Ya(U);null!==G||null!==H;){c=H;c=null===G?1:null===c?-1:G.key===c.key?0:lc({name:G.key,ia:G.value.k()},{name:c.key,ia:c.value.k()});if(0>c)f=wa(s,G.key),n(f)?(m.push({Cc:G,Xc:h[f]}),h[f]=null):(t[G.key]=l.length,l.push(G)),f=!0,G=Ya(w);else{if(0<c)f=wa(t,H.key),n(f)?(m.push({Cc:l[f],Xc:H}),l[f]=null):(s[H.key]=h.length,h.push(H)),f=!0;else{c=b.G(H.key);if(c=ie(a,c,G.value,
H.value))p.push(H),f=!0;G.value.k()!==H.value.k()&&(m.push({Cc:G,Xc:H}),f=!0);G=Ya(w)}H=Ya(U)}if(!g&&f)return!0}for(g=0;g<l.length;g++)if(s=l[g])c=b.G(s.key),ie(a,c,s.value,M),e.push(new V("child_removed",s.value,s.key));for(g=0;g<h.length;g++)if(s=h[g])c=b.G(s.key),l=d.ea(s.key,s.value),ie(a,c,M,s.value),e.push(new V("child_added",s.value,s.key,l));for(g=0;g<m.length;g++)s=m[g].Cc,h=m[g].Xc,c=b.G(h.key),l=d.ea(h.key,h.value),e.push(new V("child_moved",h.value,h.key,l)),(c=ie(a,c,s.value,h.value))&&
p.push(h);for(g=0;g<p.length;g++)a=p[g],l=d.ea(a.key,a.value),e.push(new V("child_changed",a.value,a.key,l));return f};function ke(){this.X=this.wa=null;this.set={}}ka(ke,Pc);k=ke.prototype;k.setActive=function(a){this.wa=a};function le(a,b,c){a.add(b,c);a.X||(a.X=c.Q.path)}function me(a){var b=a.wa;a.wa=null;return b}function ne(a){return a.contains("default")}function oe(a){return null!=a.wa&&ne(a)}k.defaultView=function(){return ne(this)?this.get("default"):null};k.path=function(){return this.X};k.toString=function(){return zb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")};
k.eb=function(){var a=[];R(this,function(b,c){a.push(c.Q)});return a};function pe(a,b){ae.call(this,a);this.i=M;this.kc(b,ce(b))}ka(pe,ae);
pe.prototype.kc=function(a,b){if(null===b)return b;var c=[],d=this.Q;n(d.ca)&&(n(d.va)&&null!=d.va?c.push(function(a,b){var c=Xb(b,d.ca);return 0<c||0===c&&0<=Yb(a,d.va)}):c.push(function(a,b){return 0<=Xb(b,d.ca)}));n(d.ya)&&(n(d.Wa)?c.push(function(a,b){var c=Xb(b,d.ya);return 0>c||0===c&&0>=Yb(a,d.Wa)}):c.push(function(a,b){return 0>=Xb(b,d.ya)}));var e=null,f=null;if(n(this.Q.Aa))if(n(this.Q.ca)){if(e=qe(a,c,this.Q.Aa,!1)){var g=a.N(e).k();c.push(function(a,b){var c=Xb(b,g);return 0>c||0===c&&
0>=Yb(a,e)})}}else if(f=qe(a,c,this.Q.Aa,!0)){var h=a.N(f).k();c.push(function(a,b){var c=Xb(b,h);return 0<c||0===c&&0<=Yb(a,f)})}for(var l=[],m=[],p=[],s=[],t=0;t<b.length;t++){var w=b[t].aa,U=b[t].ta;switch(b[t].type){case "child_added":re(c,w,U)&&(this.i=this.i.H(w,U),m.push(b[t]));break;case "child_removed":this.i.N(w).f()||(this.i=this.i.H(w,null),l.push(b[t]));break;case "child_changed":!this.i.N(w).f()&&re(c,w,U)&&(this.i=this.i.H(w,U),s.push(b[t]));break;case "child_moved":var G=!this.i.N(w).f(),
H=re(c,w,U);G?H?(this.i=this.i.H(w,U),p.push(b[t])):(l.push(new V("child_removed",this.i.N(w),w)),this.i=this.i.H(w,null)):H&&(this.i=this.i.H(w,U),m.push(b[t]))}}var Yc=e||f;if(Yc){var Zc=(t=null!==f)?this.i.fd():this.i.hd(),ic=!1,ab=!1,bb=this;(t?a.Bc:a.A).call(a,function(a,b){ab||null!==Zc||(ab=!0);if(ab&&ic)return!0;ic?(l.push(new V("child_removed",bb.i.N(a),a)),bb.i=bb.i.H(a,null)):ab&&(m.push(new V("child_added",b,a)),bb.i=bb.i.H(a,b));Zc===a&&(ab=!0);a===Yc&&(ic=!0)})}for(t=0;t<m.length;t++)c=
m[t],w=this.i.ea(c.aa,c.ta),l.push(new V("child_added",c.ta,c.aa,w));for(t=0;t<p.length;t++)c=p[t],w=this.i.ea(c.aa,c.ta),l.push(new V("child_moved",c.ta,c.aa,w));for(t=0;t<s.length;t++)c=s[t],w=this.i.ea(c.aa,c.ta),l.push(new V("child_changed",c.ta,c.aa,w));this.rb&&0<l.length&&l.push(new V("value",this.i));return l};function qe(a,b,c,d){if(a.O())return null;var e=null;(d?a.Bc:a.A).call(a,function(a,d){if(re(b,a,d)&&(e=a,c--,0===c))return!0});return e}
function re(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.k()))return!1;return!0}pe.prototype.Ec=function(a){return this.i.N(a)!==M};
pe.prototype.ob=function(a,b,c){var d={};this.i.O()||this.i.A(function(a){d[a]=3});var e=this.i;c=S(c,new F(""));var f=new Pa;K(J(f,this.Q.path),!0);b=M.xa(a,b);var g=this;he(c,b,a,f,function(a,b,c){null!==c&&a.toString()===g.Q.path.toString()&&g.kc(b,c)});this.i.O()?cc(d,function(a,b){d[b]=2}):(this.i.A(function(a){A(d,a)||(d[a]=1)}),cc(d,function(a,b){g.i.N(b).f()&&(d[b]=2)}));this.i=e;return d};function se(a,b){this.u=a;this.g=b;this.cc=b.Z;this.ma=new Pa}se.prototype.Pb=function(a,b,c,d,e){var f=a.path,g=J(this.ma,f),h=g.j();null===h?(h=new ke,K(g,h)):v(!h.f(),"We shouldn't be storing empty QueryMaps");var l=a.Oa();if(h.contains(l))a=h.get(l),be(a,b,c,d,e);else{var m=this.g.Z.K(f);a=te(a,m);ue(this,g,h,l,a);be(a,b,c,d,e);(b=(b=Sa(J(this.ma,f),function(a){var b;if(b=a.j()&&a.j().defaultView())b=a.j().defaultView().rb;if(b)return!0},!0))||null===this.u&&!S(this.g,f).f())&&ee(a)}a.Gb()};
function ve(a,b,c,d,e){var f=a.get(b),g;if(g=f){g=!1;for(var h=f.oa.length-1;0<=h;h--){var l=f.oa[h];if(!(c&&l.type!==c||d&&l.$!==d||e&&l.Y!==e)&&(f.oa.splice(h,1),g=!0,c&&d))break}}(c=g&&!(0<f.oa.length))&&a.remove(b);return c}function we(a,b,c,d,e){b=b?b.Oa():null;var f=[];b&&"default"!==b?ve(a,b,c,d,e)&&f.push(b):yb(a.keys(),function(b){ve(a,b,c,d,e)&&f.push(b)});return f}se.prototype.mc=function(a,b,c,d){var e=J(this.ma,a.path).j();return null===e?null:xe(this,e,a,b,c,d)};
function xe(a,b,c,d,e,f){var g=b.path(),g=J(a.ma,g);c=we(b,c,d,e,f);b.f()&&K(g,null);d=ye(g);if(0<c.length&&!d){d=g;e=g.parent();for(c=!1;!c&&e;){if(f=e.j()){v(!oe(f));var h=d.name(),l=!1;R(f,function(a,b){l=b.Ec(h)||l});l&&(c=!0)}d=e;e=e.parent()}d=null;oe(b)||(b=me(b),d=ze(a,g),b&&b());return c?null:d}return null}function Ae(a,b,c){Ra(J(a.ma,b),function(a){(a=a.j())&&R(a,function(a,b){ee(b)})},c,!0)}
function W(a,b,c){function d(a){do{if(g[a.toString()])return!0;a=a.parent()}while(null!==a);return!1}var e=a.cc,f=a.g.Z;a.cc=f;for(var g={},h=0;h<c.length;h++)g[c[h].toString()]=!0;he(e,f,b,a.ma,function(c,e,f){if(b.contains(c)){var g=d(c);g&&Ae(a,c,!1);a.jc(c,e,f);g&&Ae(a,c,!0)}else a.jc(c,e,f)});d(b)&&Ae(a,b,!0);Be(a,b)}function Be(a,b){var c=J(a.ma,b);Ra(c,function(a){(a=a.j())&&R(a,function(a,b){b.Gb()})},!0,!0);Sa(c,function(a){(a=a.j())&&R(a,function(a,b){b.Gb()})},!1)}
se.prototype.jc=function(a,b,c){a=J(this.ma,a).j();null!==a&&R(a,function(a,e){e.jc(b,c)})};function ye(a){return Sa(a,function(a){return a.j()&&oe(a.j())})}function ue(a,b,c,d,e){if(oe(c)||ye(b))le(c,d,e);else{var f,g;c.f()||(f=c.toString(),g=c.eb());le(c,d,e);c.setActive(Ce(a,c));f&&g&&Bd(a.u,c.path(),f,g)}oe(c)&&Ra(b,function(a){if(a=a.j())a.wa&&a.wa(),a.wa=null})}
function ze(a,b){function c(b){var f=b.j();if(f&&ne(f))d.push(f.path()),null==f.wa&&f.setActive(Ce(a,f));else{if(f){null!=f.wa||f.setActive(Ce(a,f));var g={};R(f,function(a,b){b.i.A(function(a){A(g,a)||(g[a]=!0,a=f.path().G(a),d.push(a))})})}b.A(c)}}var d=[];c(b);return d}
function Ce(a,b){if(a.u){var c=a.u,d=b.path(),e=b.toString(),f=b.eb(),g,h=b.keys(),l=ne(b);xd(a.u,b,function(c){"ok"!==c?(c=fc(c),L("on() or once() for "+b.path().toString()+" failed: "+c.toString()),De(a,b,c)):g||(l?Ae(a,b.path(),!0):yb(h,function(a){(a=b.get(a))&&ee(a)}),Be(a,b.path()))});return function(){g=!0;Bd(c,d,e,f)}}return ba}function De(a,b,c){b&&(R(b,function(a,b){for(var f=0;f<b.oa.length;f++){var g=b.oa[f];g.cancel&&dc(g.cancel,g.Y)(c)}}),xe(a,b))}
function te(a,b){return"default"===a.Oa()?new fe(a,b):new pe(a,b)}se.prototype.ob=function(a,b,c,d){function e(a){cc(a,function(a,b){f[b]=3===a?3:(wa(f,b)||a)===a?a:3})}var f={};R(b,function(b,f){e(f.ob(a,c,d))});c.O()||c.A(function(a){A(f,a)||(f[a]=4)});return f};function Ee(a,b,c,d,e){var f=b.path();b=a.ob(f,b,d,e);var g=M,h=[];cc(b,function(b,m){var p=new F(m);3===b||1===b?g=g.H(m,d.K(p)):(2===b&&h.push({path:f.G(m),qa:M}),h=h.concat(Fe(a,d.K(p),J(c,p),e)))});return[{path:f,qa:g}].concat(h)}
function Ge(a,b,c,d){var e;a:{var f=J(a.ma,b);e=f.parent();for(var g=[];null!==e;){var h=e.j();if(null!==h){if(ne(h)){e=[{path:b,qa:c}];break a}h=a.ob(b,h,c,d);f=wa(h,f.name());if(3===f||1===f){e=[{path:b,qa:c}];break a}2===f&&g.push({path:b,qa:M})}f=e;e=e.parent()}e=g}if(1==e.length&&(!e[0].qa.f()||c.f()))return e;g=J(a.ma,b);f=g.j();null!==f?ne(f)?e.push({path:b,qa:c}):e=e.concat(Ee(a,f,g,c,d)):e=e.concat(Fe(a,c,g,d));return e}
function Fe(a,b,c,d){var e=c.j();if(null!==e)return ne(e)?[{path:c.path(),qa:b}]:Ee(a,e,c,b,d);var f=[];c.A(function(c){var e=b.O()?M:b.N(c.name());c=Fe(a,e,c,d);f=f.concat(c)});return f};function He(a){this.M=a;this.da=Gc(a);this.u=new td(this.M,r(this.fc,this),r(this.dc,this),r(this.xb,this),r(this.Nc,this),r(this.Dc,this));this.Ad=Hc(a,r(function(){return new Dc(this.da,this.u)},this));this.Ra=new Pa;this.Da=new Pd;this.g=new Qd;this.I=new se(this.u,this.g.na);this.Fc=new Pd;this.Gc=new se(null,this.Fc);Ie(this,"connected",!1);Ie(this,"authenticated",!1);this.S=new Ld;this.Sb=0}k=He.prototype;k.toString=function(){return(this.M.oc?"https://":"http://")+this.M.host};k.name=function(){return this.M.$b};
function Je(a){a=S(a.Fc,new F(".info/serverTimeOffset")).V()||0;return(new Date).getTime()+a}function Ke(a){a=a={timestamp:Je(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
k.fc=function(a,b,c){this.Sb++;this.kd&&(b=this.kd(a,b));var d,e,f=[];9<=a.length&&a.lastIndexOf(".priority")===a.length-9?(d=new F(a.substring(0,a.length-9)),e=S(this.g.sa,d).Ea(b),f.push(d)):c?(d=new F(a),e=S(this.g.sa,d),cc(b,function(a,b){var c=new F(b);".priority"===b?e=e.Ea(a):(e=e.xa(c,O(a)),f.push(d.G(b)))})):(d=new F(a),e=O(b),f.push(d));a=Ge(this.I,d,e,this.g.L);b=!1;for(c=0;c<a.length;++c){var g=a[c];b=Rd(this.g,g.path,g.qa)||b}b&&(d=Le(this,d));W(this.I,d,f)};
k.dc=function(a){Ie(this,"connected",a);!1===a&&Me(this)};k.Nc=function(a){var b=this;bc(a,function(a,d){Ie(b,d,a)})};k.Dc=function(a){a=new F(a);return S(this.g.sa,a).hash()};k.xb=function(a){Ie(this,"authenticated",a)};function Ie(a,b,c){b=new F("/.info/"+b);T(a.Fc,b,O(c));W(a.Gc,b,[b])}
k.jb=function(a,b,c){"firebaseio-demo.com"===this.M.domain&&L("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only.");this.u.jb(a,function(a,c){X(b,a,c)},function(a,b){L("auth() was canceled: "+b);if(c){var f=Error(b);f.code=a.toUpperCase();c(f)}})};k.Nb=function(a){this.u.Nb(function(b,c){X(a,b,c)})};
k.hb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ia:c});var e=Ke(this);b=O(b,c);var e=Xd(b,e),e=Ge(this.I,a,e,this.g.L),f=this.g.set(a,e),g=this;this.u.put(a.toString(),b.V(!0),function(b,c){"ok"!==b&&L("set at "+a+" failed: "+b);Ud(g.g,f);Sd(g.g,a);var e=Le(g,a);W(g.I,e,[]);X(d,b,c)});e=Ne(this,a);Le(this,e);W(this.I,e,[a])};
k.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var d=S(this.g.na,a),e=!0,f=[],g=Ke(this),h=[],l;for(l in b){var e=!1,m=O(b[l]),m=Xd(m,g),d=d.H(l,m),p=a.G(l);f.push(p);m=Ge(this.I,p,m,this.g.L);h=h.concat(this.g.set(a,m))}if(e)Rb("update() called with empty data.  Don't do anything."),X(c,"ok");else{var s=this;Hd(this.u,a.toString(),b,function(b,d){"ok"!==b&&L("update at "+a+" failed: "+b);Ud(s.g,h);Sd(s.g,a);var e=Le(s,a);W(s.I,e,[]);X(c,b,d)});b=Ne(this,a);Le(this,b);W(s.I,
b,f)}};k.Tc=function(a,b,c){this.e("setPriority",{path:a.toString(),ia:b});var d=Ke(this),d=Vd(b,d),d=S(this.g.L,a).Ea(d),d=Ge(this.I,a,d,this.g.L),e=this.g.set(a,d),f=this;this.u.put(a.toString()+"/.priority",b,function(b,d){"permission_denied"===b&&L("setPriority at "+a+" failed: "+b);Ud(f.g,e);Sd(f.g,a);var l=Le(f,a);W(f.I,l,[]);X(c,b,d)});b=Le(this,a);W(f.I,b,[])};
function Me(a){a.e("onDisconnectEvents");var b=[],c=Ke(a);Od(Wd(a.S,c),new F(""),function(c,e){var f=Ge(a.I,c,e,a.g.L);b.push.apply(b,a.g.set(c,f));f=Ne(a,c);Le(a,f);W(a.I,f,[c])});Ud(a.g,b);a.S=new Ld}k.Kc=function(a,b){var c=this;this.u.Kc(a.toString(),function(d,e){"ok"===d&&Nd(c.S,a);X(b,d,e)})};function Oe(a,b,c,d){var e=O(c);Dd(a.u,b.toString(),e.V(!0),function(c,g){"ok"===c&&Md(a.S,b,e);X(d,c,g)})}
function Pe(a,b,c,d,e){var f=O(c,d);Dd(a.u,b.toString(),f.V(!0),function(c,d){"ok"===c&&Md(a.S,b,f);X(e,c,d)})}function Qe(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(Rb("onDisconnect().update() called with empty data.  Don't do anything."),X(d,"ok")):Fd(a.u,b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var m=O(c[l]);Md(a.S,b.G(l),m)}X(d,e,f)})}function Re(a){Bc(a.da,"deprecated_on_disconnect");a.Ad.Wc.deprecated_on_disconnect=!0}
k.Pb=function(a,b,c,d,e){".info"===C(a.path)?this.Gc.Pb(a,b,c,d,e):this.I.Pb(a,b,c,d,e)};k.mc=function(a,b,c,d){if(".info"===C(a.path))this.Gc.mc(a,b,c,d);else{b=this.I.mc(a,b,c,d);if(c=null!==b){c=this.g;d=a.path;for(var e=[],f=0;f<b.length;++f)e[f]=S(c.sa,b[f]);T(c.sa,d,M);for(f=0;f<b.length;++f)T(c.sa,b[f],e[f]);c=Sd(c,d)}c&&(v(this.g.na.Z===this.I.cc,"We should have raised any outstanding events by now.  Else, we'll blow them away."),T(this.g.na,a.path,S(this.g.L,a.path)),this.I.cc=this.g.na.Z)}};
k.Ja=function(){this.u.Ja()};k.gb=function(){this.u.gb()};k.Uc=function(a){if("undefined"!==typeof console){a?(this.qc||(this.qc=new Cc(this.da)),a=this.qc.get()):a=this.da.get();var b=Ab(yc(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};k.Vc=function(a){Bc(this.da,a);this.Ad.Wc[a]=!0};k.e=function(){Rb("r:"+this.u.id+":",arguments)};
function X(a,b,c){a&&hc(function(){if("ok"==b)a(null,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Se(a,b,c,d,e){function f(){}a.e("transaction on "+b);var g=new E(a,b);g.ab("value",f);c={path:b,update:c,D:d,status:null,qd:Nb(),uc:e,ud:0,rc:function(){g.wb("value",f)},sc:null};a.Da.Z=Te(a,a.Da.Z,a.g.L.Z,a.Ra);d=c.update(S(a.Da,b).V());if(n(d)){Ba("transaction failed: Data returned ",d);c.status=1;e=J(a.Ra,b);var h=e.j()||[];h.push(c);K(e,h);h="object"===typeof d&&null!==d&&A(d,".priority")?d[".priority"]:S(a.g.L,b).k();e=Ke(a);d=O(d,h);d=Xd(d,e);T(a.Da,b,d);c.uc&&(T(a.g.na,b,d),W(a.I,
b,[b]));Ue(a)}else c.rc(),c.D&&(a=Ve(a,b),c.D(null,!1,a))}function Ue(a,b){var c=b||a.Ra;b||We(a,c);if(null!==c.j()){var d=Xe(a,c);v(0<d.length);Bb(d,function(a){return 1===a.status})&&Ye(a,c.path(),d)}else c.qb()&&c.A(function(b){Ue(a,b)})}
function Ye(a,b,c){for(var d=0;d<c.length;d++)v(1===c[d].status,"tryToSendTransactionQueue_: items in queue should all be run."),c[d].status=2,c[d].ud++;var e=S(a.g.L,b).hash();T(a.g.L,b,S(a.g.na,b));for(var f=S(a.Da,b).V(!0),g=Nb(),h=Ze(c),d=0;d<h.length;d++)K(J(a.g.Db,h[d]),g);a.u.put(b.toString(),f,function(e){a.e("transaction put response",{path:b.toString(),status:e});for(d=0;d<h.length;d++){var f=J(a.g.Db,h[d]),p=f.j();v(null!==p,"sendTransactionQueue_: pendingPut should not be null.");p===
g&&(K(f,null),T(a.g.L,h[d],S(a.g.sa,h[d])))}if("ok"===e){e=[];for(d=0;d<c.length;d++)c[d].status=3,c[d].D&&(f=Ve(a,c[d].path),e.push(r(c[d].D,null,null,!0,f))),c[d].rc();We(a,J(a.Ra,b));Ue(a);for(d=0;d<e.length;d++)hc(e[d])}else{if("datastale"===e)for(d=0;d<c.length;d++)c[d].status=4===c[d].status?5:1;else for(L("transaction at "+b+" failed: "+e),d=0;d<c.length;d++)c[d].status=5,c[d].sc=e;e=Le(a,b);W(a.I,e,[b])}},e)}
function Ze(a){for(var b={},c=0;c<a.length;c++)a[c].uc&&(b[a[c].path.toString()]=a[c].path);a=[];for(var d in b)a.push(b[d]);return a}
function Le(a,b){var c=$e(a,b),d=c.path(),c=Xe(a,c);T(a.g.na,d,S(a.g.L,d));T(a.Da,d,S(a.g.L,d));if(0!==c.length){for(var e=S(a.g.na,d),f=e,g=[],h=0;h<c.length;h++){var l=Na(d,c[h].path),m=!1,p;v(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===c[h].status)m=!0,p=c[h].sc;else if(1===c[h].status)if(25<=c[h].ud)m=!0,p="maxretry";else{var s=e.K(l),t=c[h].update(s.V());if(n(t)){Ba("transaction failed: Data returned ",t);var w=O(t);"object"===typeof t&&null!=t&&A(t,".priority")||
(w=w.Ea(s.k()));e=e.xa(l,w);c[h].uc&&(f=f.xa(l,w))}else m=!0,p="nodata"}m&&(c[h].status=3,setTimeout(c[h].rc,Math.floor(0)),c[h].D&&(m=new E(a,c[h].path),l=new P(e.K(l),m),"nodata"===p?g.push(r(c[h].D,null,null,!1,l)):g.push(r(c[h].D,null,Error(p),!1,l))))}T(a.Da,d,e);T(a.g.na,d,f);We(a,a.Ra);for(h=0;h<g.length;h++)hc(g[h]);Ue(a)}return d}function $e(a,b){for(var c,d=a.Ra;null!==(c=C(b))&&null===d.j();)d=J(d,c),b=I(b);return d}
function Xe(a,b){var c=[];af(a,b,c);c.sort(function(a,b){return a.qd-b.qd});return c}function af(a,b,c){var d=b.j();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.A(function(b){af(a,b,c)})}function We(a,b){var c=b.j();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;K(b,0<c.length?c:null)}b.A(function(b){We(a,b)})}function Ne(a,b){var c=$e(a,b).path(),d=J(a.Ra,b);Sa(d,function(a){bf(a)});bf(d);Ra(d,function(a){bf(a)});return c}
function bf(a){var b=a.j();if(null!==b){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(v(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].sc="set"):(v(1===b[e].status),b[e].rc(),b[e].D&&c.push(r(b[e].D,null,Error("set"),!1,null))));-1===d?K(a,null):b.length=d+1;for(e=0;e<c.length;e++)hc(c[e])}}function Ve(a,b){var c=new E(a,b);return new P(S(a.Da,b),c)}
function Te(a,b,c,d){if(d.f())return c;if(null!=d.j())return b;var e=c;d.A(function(d){var g=d.name(),h=new F(g);d=Te(a,b.K(h),c.K(h),d);e=e.H(g,d)});return e};function Y(){this.fb={}}ca(Y);Y.prototype.Ja=function(){for(var a in this.fb)this.fb[a].Ja()};Y.prototype.interrupt=Y.prototype.Ja;Y.prototype.gb=function(){for(var a in this.fb)this.fb[a].gb()};Y.prototype.resume=Y.prototype.gb;var Z={Qd:function(a){var b=N.prototype.hash;N.prototype.hash=a;var c=jc.prototype.hash;jc.prototype.hash=a;return function(){N.prototype.hash=b;jc.prototype.hash=c}}};Z.hijackHash=Z.Qd;Z.Oa=function(a){return a.Oa()};Z.queryIdentifier=Z.Oa;Z.Td=function(a){return a.m.u.ga};Z.listens=Z.Td;Z.ae=function(a){return a.m.u.ja};Z.refConnection=Z.ae;Z.Dd=td;Z.DataConnection=Z.Dd;td.prototype.sendRequest=td.prototype.Ca;td.prototype.interrupt=td.prototype.Ja;Z.Ed=hd;Z.RealTimeConnection=Z.Ed;
hd.prototype.sendRequest=hd.prototype.xd;hd.prototype.close=hd.prototype.close;Z.Cd=ob;Z.ConnectionTarget=Z.Cd;Z.Nd=function(){Rc=Jc=!0};Z.forceLongPolling=Z.Nd;Z.Od=function(){Sc=!0};Z.forceWebSockets=Z.Od;Z.ge=function(a,b){a.m.u.Sc=b};Z.setSecurityDebugCallback=Z.ge;Z.Uc=function(a,b){a.m.Uc(b)};Z.stats=Z.Uc;Z.Vc=function(a,b){a.m.Vc(b)};Z.statsIncrementCounter=Z.Vc;Z.Sb=function(a){return a.m.Sb};Z.dataUpdateCount=Z.Sb;Z.Rd=function(a,b){a.m.kd=b};Z.interceptServerData=Z.Rd;function $(a,b,c){this.Hb=a;this.X=b;this.Ba=c}$.prototype.cancel=function(a){x("Firebase.onDisconnect().cancel",0,1,arguments.length);z("Firebase.onDisconnect().cancel",1,a,!0);this.Hb.Kc(this.X,a)};$.prototype.cancel=$.prototype.cancel;$.prototype.remove=function(a){x("Firebase.onDisconnect().remove",0,1,arguments.length);B("Firebase.onDisconnect().remove",this.X);z("Firebase.onDisconnect().remove",1,a,!0);Oe(this.Hb,this.X,null,a)};$.prototype.remove=$.prototype.remove;
$.prototype.set=function(a,b){x("Firebase.onDisconnect().set",1,2,arguments.length);B("Firebase.onDisconnect().set",this.X);Aa("Firebase.onDisconnect().set",a,!1);z("Firebase.onDisconnect().set",2,b,!0);Oe(this.Hb,this.X,a,b)};$.prototype.set=$.prototype.set;
$.prototype.hb=function(a,b,c){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);B("Firebase.onDisconnect().setWithPriority",this.X);Aa("Firebase.onDisconnect().setWithPriority",a,!1);Fa("Firebase.onDisconnect().setWithPriority",2,b,!1);z("Firebase.onDisconnect().setWithPriority",3,c,!0);if(".length"===this.Ba||".keys"===this.Ba)throw"Firebase.onDisconnect().setWithPriority failed: "+this.Ba+" is a read-only object.";Pe(this.Hb,this.X,a,b,c)};$.prototype.setWithPriority=$.prototype.hb;
$.prototype.update=function(a,b){x("Firebase.onDisconnect().update",1,2,arguments.length);B("Firebase.onDisconnect().update",this.X);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;L("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ea("Firebase.onDisconnect().update",a);z("Firebase.onDisconnect().update",2,b,!0);Qe(this.Hb,
this.X,a,b)};$.prototype.update=$.prototype.update;var cf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);v(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);v(20===c.length,"NextPushId: Length should be 20.");
return c}}();function E(a,b){var c,d;if(a instanceof He)c=a,d=b;else{x("new Firebase",1,2,arguments.length);var e=arguments[0];d=c="";var f=!0,g="";if(q(e)){var h=e.indexOf("//");if(0<=h)var l=e.substring(0,h-1),e=e.substring(h+2);h=e.indexOf("/");-1===h&&(h=e.length);c=e.substring(0,h);var e=e.substring(h+1),m=c.split(".");if(3==m.length){h=m[2].indexOf(":");f=0<=h?"https"===l||"wss"===l:!0;if("firebase"===m[1])Vb(c+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(d=m[0],
g="",e=("/"+e).split("/"),h=0;h<e.length;h++)if(0<e[h].length){m=e[h];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(p){}g+="/"+m}d=d.toLowerCase()}else Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com")}f||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&L("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");c=new ob(c,f,d,"ws"===l||"wss"===l);d=new F(g);
f=d.toString();!(l=!q(c.host)||0===c.host.length||!za(c.$b))&&(l=0!==f.length)&&(f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),l=!(q(f)&&0!==f.length&&!ya.test(f)));if(l)throw Error(y("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof Y)f=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");else f=Y.pb();l=c.toString();e=wa(f.fb,l);e||(e=new He(c),f.fb[l]=e);c=e}D.call(this,c,d)}
ka(E,D);var df=E,ef=["Firebase"],ff=aa;ef[0]in ff||!ff.execScript||ff.execScript("var "+ef[0]);for(var gf;ef.length&&(gf=ef.shift());)!ef.length&&n(df)?ff[gf]=df:ff=ff[gf]?ff[gf]:ff[gf]={};module.exports=E;E.prototype.name=function(){x("Firebase.name",0,0,arguments.length);return this.path.f()?null:Ma(this.path)};E.prototype.name=E.prototype.name;
E.prototype.G=function(a){x("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof F))if(null===C(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Ia("Firebase.child",b)}else Ia("Firebase.child",a);return new E(this.m,this.path.G(a))};E.prototype.child=E.prototype.G;E.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new E(this.m,a)};E.prototype.parent=E.prototype.parent;
E.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};E.prototype.root=E.prototype.root;E.prototype.toString=function(){x("Firebase.toString",0,0,arguments.length);var a;if(null===this.parent())a=this.m.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};E.prototype.toString=E.prototype.toString;
E.prototype.set=function(a,b){x("Firebase.set",1,2,arguments.length);B("Firebase.set",this.path);Aa("Firebase.set",a,!1);z("Firebase.set",2,b,!0);this.m.hb(this.path,a,null,b)};E.prototype.set=E.prototype.set;
E.prototype.update=function(a,b){x("Firebase.update",1,2,arguments.length);B("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;L("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ea("Firebase.update",a);z("Firebase.update",2,b,!0);if(A(a,".priority"))throw Error("update() does not currently support updating .priority.");
this.m.update(this.path,a,b)};E.prototype.update=E.prototype.update;E.prototype.hb=function(a,b,c){x("Firebase.setWithPriority",2,3,arguments.length);B("Firebase.setWithPriority",this.path);Aa("Firebase.setWithPriority",a,!1);Fa("Firebase.setWithPriority",2,b,!1);z("Firebase.setWithPriority",3,c,!0);if(".length"===this.name()||".keys"===this.name())throw"Firebase.setWithPriority failed: "+this.name()+" is a read-only object.";this.m.hb(this.path,a,b,c)};E.prototype.setWithPriority=E.prototype.hb;
E.prototype.remove=function(a){x("Firebase.remove",0,1,arguments.length);B("Firebase.remove",this.path);z("Firebase.remove",1,a,!0);this.set(null,a)};E.prototype.remove=E.prototype.remove;
E.prototype.transaction=function(a,b,c){x("Firebase.transaction",1,3,arguments.length);B("Firebase.transaction",this.path);z("Firebase.transaction",1,a,!1);z("Firebase.transaction",2,b,!0);if(n(c)&&"boolean"!=typeof c)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.name()||".keys"===this.name())throw"Firebase.transaction failed: "+this.name()+" is a read-only object.";"undefined"===typeof c&&(c=!0);Se(this.m,this.path,a,b,c)};E.prototype.transaction=E.prototype.transaction;
E.prototype.Tc=function(a,b){x("Firebase.setPriority",1,2,arguments.length);B("Firebase.setPriority",this.path);Fa("Firebase.setPriority",1,a,!1);z("Firebase.setPriority",2,b,!0);this.m.Tc(this.path,a,b)};E.prototype.setPriority=E.prototype.Tc;E.prototype.push=function(a,b){x("Firebase.push",0,2,arguments.length);B("Firebase.push",this.path);Aa("Firebase.push",a,!0);z("Firebase.push",2,b,!0);var c=Je(this.m),c=cf(c),c=this.G(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};
E.prototype.push=E.prototype.push;E.prototype.ha=function(){return new $(this.m,this.path,this.name())};E.prototype.onDisconnect=E.prototype.ha;E.prototype.be=function(){L("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead.");this.ha().remove();Re(this.m)};E.prototype.removeOnDisconnect=E.prototype.be;
E.prototype.fe=function(a){L("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead.");this.ha().set(a);Re(this.m)};E.prototype.setOnDisconnect=E.prototype.fe;E.prototype.jb=function(a,b,c){x("Firebase.auth",1,3,arguments.length);if(!q(a))throw Error(y("Firebase.auth",1,!1)+"must be a valid credential (a string).");z("Firebase.auth",2,b,!0);z("Firebase.auth",3,b,!0);this.m.jb(a,b,c)};E.prototype.auth=E.prototype.jb;
E.prototype.Nb=function(a){x("Firebase.unauth",0,1,arguments.length);z("Firebase.unauth",1,a,!0);this.m.Nb(a)};E.prototype.unauth=E.prototype.Nb;E.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length);Y.pb().Ja()};E.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length);Y.pb().gb()};
function Sb(a,b){v(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?Pb=r(console.log,console):"object"===typeof console.log&&(Pb=function(a){console.log(a)})),b&&nb.set("logging_enabled",!0)):a?Pb=a:(Pb=null,nb.remove("logging_enabled"))}E.enableLogging=Sb;E.ServerValue={TIMESTAMP:{".sv":"timestamp"}};E.SDK_VERSION="1.0.21";E.INTERNAL=Z;E.Context=Y;
